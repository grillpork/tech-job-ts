═══════════════════════════════════════════════════════════════════════════════
เอกสารอธิบายการทำงานของแต่ละหน้าในระบบ TECH JOB
(เขียนให้อ่านง่าย เข้าใจทันที)
═══════════════════════════════════════════════════════════════════════════════

───────────────────────────────────────────────────────────────────────────────
1. หน้า Login (หน้าเข้าสู่ระบบ)
───────────────────────────────────────────────────────────────────────────────

ทำอะไรบ้าง:

1.1 การกรอกข้อมูล (2 ขั้นตอน)
   • ขั้นตอนที่ 1: กรอกอีเมล
     - พิมพ์อีเมลลงไป
     - ระบบตรวจสอบว่าอีเมลถูกต้องหรือไม่ (มี @ และ .com)
     - ถ้าถูกต้อง จะมีปุ่มลูกศรปรากฏขึ้นมา → คลิกเพื่อไปขั้นตอนถัดไป
   
   • ขั้นตอนที่ 2: กรอกรหัสผ่าน
     - พิมพ์รหัสผ่าน
     - มีปุ่มตา (Eye icon) สำหรับเปิด/ปิดดูรหัสผ่าน

1.2 การตรวจสอบข้อมูล
   • เมื่อกดปุ่ม "เข้าสู่ระบบ"
   • ระบบจะไปค้นหาในฐานข้อมูลว่ามีคนที่มีอีเมลและรหัสผ่านตรงกันหรือไม่
   • ถ้าพบ → เข้าสู่ระบบสำเร็จ
   • ถ้าไม่พบ → แสดงข้อความว่า "อีเมลหรือรหัสผ่านไม่ถูกต้อง"

1.3 การส่งไปหน้าถัดไป
   • เมื่อเข้าสู่ระบบสำเร็จ ระบบจะส่งไปหน้าตามตำแหน่งงาน:
     - ถ้าเป็น Admin, Manager, หรือ Lead Technician → ไปหน้า Admin
     - ถ้าเป็น Employee → ไปหน้า Employee

1.4 หน้าตาและเอฟเฟกต์
   • มีโลโก้บริษัทแสดงด้านบน
   • มีการเคลื่อนไหวของปุ่มและฟอร์ม (ใช้ Framer Motion)
   • แสดงสถานะ "กำลังโหลด..." ขณะที่ระบบกำลังตรวจสอบข้อมูล


───────────────────────────────────────────────────────────────────────────────
2. หน้า Dashboard (หน้าหลัก - แสดงภาพรวม)
───────────────────────────────────────────────────────────────────────────────

ทำอะไรบ้าง:

2.1 การรวบรวมข้อมูล
   • ระบบจะไปดึงข้อมูลจากหลายที่มา:
     - ข้อมูลผู้ใช้
     - ข้อมูลงาน
     - ข้อมูลสต็อกสินค้า
     - ข้อมูลรายงาน
   • แล้วคำนวณสถิติแบบทันที:
     - งานที่กำลังทำอยู่ (ยังไม่เสร็จ)
     - รายงานที่ยังไม่ได้แก้ไข
     - สินค้าที่ใกล้หมด

2.2 การสร้างกราฟ
   • ระบบจะดูงานทั้งหมดใน 180 วันล่าสุด
   • แบ่งงานตามสถานะ:
     - เสร็จแล้ว (สีเขียว)
     - กำลังทำ (สีน้ำเงิน)
     - รอทำ (สีเทา)
   • แล้ววาดกราฟแสดงจำนวนงานในแต่ละวัน
   • สามารถเลือกดู 7 วัน, 30 วัน, หรือ 90 วันล่าสุด

2.3 แผนกที่มีงานมากที่สุด
   • ระบบจะนับว่ามีงานกี่งานในแต่ละแผนก
   • เรียงจากแผนกที่มีงานมากที่สุด → น้อยที่สุด
   • แสดงแค่ 5 อันดับแรก

2.4 สินค้าที่ใช้มากที่สุด
   • ถ้ามีการบันทึกว่าสินค้าอะไรถูกใช้ในงาน → นับว่าถูกใช้กี่ครั้ง
   • ถ้าไม่มี → เรียงตามจำนวนที่มีในสต็อก (มาก → น้อย)
   • แสดงแค่ 5 อันดับแรก

2.5 การเปรียบเทียบกับช่วงก่อนหน้า
   • ระบบจะเปรียบเทียบว่าช่วงนี้มีงานมากกว่าหรือน้อยกว่าช่วงก่อนหน้า
   • คำนวณเป็นเปอร์เซ็นต์ เช่น "เพิ่มขึ้น 15%" หรือ "ลดลง 10%"

2.6 รายงานล่าสุด
   • แสดงรายงานที่เพิ่งเข้ามา
   • สามารถเลือกดูรายงานของสัปดาห์นี้, เดือนนี้, หรือปีนี้
   • แสดงแค่ 5 รายงานล่าสุด


───────────────────────────────────────────────────────────────────────────────
3. หน้าจัดการผู้ใช้ (Users Management)
───────────────────────────────────────────────────────────────────────────────

ทำอะไรบ้าง:

3.1 การแสดงข้อมูล
   • บนคอมพิวเตอร์: แสดงเป็นตาราง (เหมือน Excel) สามารถค้นหา, กรอง, เรียงลำดับได้
   • บนมือถือ: แสดงเป็นการ์ด (กล่องๆ) เรียงกัน

3.2 ข้อมูลที่แสดงในตาราง
   • รูปโปรไฟล์ + ชื่อ + อีเมล
   • แผนกที่สังกัด
   • ตำแหน่งงาน
   • สถานะ (ทำงานอยู่ / หยุดงาน)
   • ปุ่มเมนู (ดูรายละเอียด / แก้ไข / ลบ / เปิด-ปิดบัญชี)

3.3 การดูรายละเอียดผู้ใช้
   • คลิกที่แถวหรือปุ่ม "View details"
   • จะมีหน้าต่าง popup ขึ้นมาแสดง:
     - ข้อมูลส่วนตัวทั้งหมด
     - สถิติงาน (ทำเสร็จกี่งาน, กำลังทำกี่งาน, ทำงานกี่วัน)
   • ข้อมูลจะอัปเดตอัตโนมัติถ้ามีการแก้ไข

3.4 การแก้ไขข้อมูลผู้ใช้
   • คลิกปุ่ม "Edit user"
   • จะไปหน้าอื่นที่เหมือนกับหน้าแก้ไขโปรไฟล์
   • มีรูปโปรไฟล์ด้านซ้าย, ฟอร์มกรอกข้อมูลด้านขวา

3.5 การลบผู้ใช้
   • คลิกปุ่ม "Delete"
   • จะมีหน้าต่างยืนยันขึ้นมา "คุณแน่ใจหรือไม่?"
   • ถ้ายืนยัน → ผู้ใช้คนนั้นจะถูกลบออกจากระบบ

3.6 การเปิด-ปิดบัญชี
   • คลิกปุ่ม "Activate" หรือ "Deactivate"
   • เปลี่ยนสถานะระหว่าง "ทำงานอยู่" ↔ "หยุดงาน"
   • ไม่ต้องลบข้อมูลออก แค่ปิดการใช้งานชั่วคราว

3.7 การแสดงชื่อแผนก
   • ระบบจะแปลงรหัสแผนกเป็นชื่อภาษาไทย
   • เช่น "Electrical" → "แผนกช่างไฟ"


───────────────────────────────────────────────────────────────────────────────
4. หน้าแก้ไขข้อมูลผู้ใช้ (Edit User)
───────────────────────────────────────────────────────────────────────────────

ทำอะไรบ้าง:

4.1 การโหลดข้อมูล
   • เมื่อเข้ามาหน้านี้ ระบบจะดูว่า URL มี ID ของผู้ใช้คนไหน
   • ไปค้นหาข้อมูลผู้ใช้คนนั้นจากฐานข้อมูล
   • ถ้าไม่พบ → แสดงข้อความว่า "ไม่พบผู้ใช้" + ปุ่มกลับ

4.2 การกรอกข้อมูล
   • ระบบจะนำข้อมูลเดิมมาใส่ในฟอร์มให้อัตโนมัติ
   • สามารถแก้ไขได้:
     - ชื่อ, อีเมล, เบอร์โทร
     - แผนก, ตำแหน่ง
     - ทักษะ (คั่นด้วยจุลภาค เช่น "JavaScript, React, Node.js")
   • บางฟิลด์แก้ไขไม่ได้ (ถูก lock ไว้):
     - ตำแหน่งงาน (Role)
     - แผนก (Department)
     - ประเภทการจ้างงาน
     - ระดับบัญชี

4.3 การอัปโหลดรูปโปรไฟล์
   • คลิกปุ่ม "Change Photo"
   • เลือกรูปจากเครื่องคอมพิวเตอร์
   • ระบบจะแปลงรูปเป็นโค้ด (base64) แล้วเก็บไว้
   • รูปจะแสดงทันทีในกล่องรูปโปรไฟล์

4.4 การบันทึกข้อมูล
   • กรอกข้อมูลเสร็จแล้ว → กดปุ่ม "Save"
   • ระบบจะตรวจสอบว่า:
     - ชื่อและอีเมลต้องกรอก (ห้ามว่าง)
     - ทักษะที่กรอก (ถ้ามี) จะถูกแยกเป็นรายการ
   • ถ้าผ่าน → บันทึกข้อมูล → แสดงข้อความ "บันทึกสำเร็จ" → กลับไปหน้าจัดการผู้ใช้


───────────────────────────────────────────────────────────────────────────────
5. หน้าโปรไฟล์ (Profile)
───────────────────────────────────────────────────────────────────────────────

ทำอะไรบ้าง:

5.1 ส่วนหัวหน้า (รูปปก + รูปโปรไฟล์)
   • แสดงรูปปกด้านหลัง (ถ้าไม่มีจะใช้รูป default)
   • แสดงรูปโปรไฟล์ด้านหน้า (ถ้าไม่มีจะใช้ตัวอักษรย่อชื่อ)
   • มีปุ่ม "Change cover" มุมขวาบน → สำหรับเปลี่ยนรูปปก
   • มีปุ่ม "Change avatar" → สำหรับเปลี่ยนรูปโปรไฟล์

5.2 การตัดรูป (Image Cropping)
   • เมื่อเลือกรูปใหม่ → จะมีหน้าต่างขึ้นมาให้ตัดรูป
   • สามารถ:
     - ลากเพื่อเลือกส่วนที่ต้องการ
     - ซูมเข้า-ออก
     - ย้ายตำแหน่ง
   • รูปโปรไฟล์: ตัดเป็นวงกลม
   • รูปปก: ตัดเป็นสี่เหลี่ยมผืนผ้า
   • เมื่อพอใจ → กดยืนยัน → ระบบจะตัดรูปและบันทึก

5.3 งานที่เกี่ยวข้อง
   • ระบบจะหาและแสดงงานทั้งหมดที่เกี่ยวข้องกับผู้ใช้คนนี้:
     - งานที่สร้างเอง
     - งานที่ถูกมอบหมายให้ทำ
     - งานที่รับผิดชอบเป็นหัวหน้า
   • เรียงจากงานใหม่ → เก่า
   • แสดงแค่ 5 งานล่าสุด

5.4 ส่วน "Works with" (ทีมที่ทำงานด้วยกัน)
   • แสดงคนในแผนกเดียวกันทั้งหมด (ยกเว้นตัวเอง)
   • เรียงลำดับ: หัวหน้าแผนก → ผู้จัดการ → พนักงาน
   • แสดง: รูป + ชื่อ + แผนก • ตำแหน่ง + สถานะ (ถ้ามี)
   • ถ้ามีคนเยอะ → สามารถเลื่อนดูได้ (scroll)

5.5 ส่วน "Worked on" (งานที่ทำ)
   • แสดงงานที่เกี่ยวข้องในกล่องที่เลื่อนดูได้
   • จัดวางเป็น 2 คอลัมน์:
     - ด้านซ้าย: งานที่ทำ (Worked on)
     - ด้านขวา: ทีมที่ทำงานด้วย (Works with)
   • แต่ละงานแสดง: ชื่องาน + แผนก • ผู้สร้าง + สถานะ

5.6 การอัปเดตข้อมูลอัตโนมัติ
   • เมื่อแก้ไขโปรไฟล์ (เปลี่ยนชื่อหรือรูป)
   • ระบบจะอัปเดตข้อมูลในทุกที่ที่เกี่ยวข้อง:
     - ข้อมูลผู้ใช้
     - งานที่เกี่ยวข้อง (ชื่อผู้สร้าง, ชื่อผู้รับผิดชอบ)
   • ทำให้ทุกหน้ามีข้อมูลใหม่ทันที ไม่ต้องรีเฟรชหน้า


───────────────────────────────────────────────────────────────────────────────
6. หน้าแก้ไขโปรไฟล์ (Profile Edit)
───────────────────────────────────────────────────────────────────────────────

ทำอะไรบ้าง:

6.1 การจัดวางหน้า
   • แบ่งเป็น 2 ส่วน:
     - ด้านซ้าย: รูปโปรไฟล์ + ปุ่มเปลี่ยนรูป
     - ด้านขวา: ฟอร์มกรอกข้อมูล

6.2 ส่วนรูปโปรไฟล์
   • แสดงรูปโปรไฟล์ปัจจุบัน (หรือตัวอักษรย่อถ้าไม่มีรูป)
   • ปุ่ม "Change Photo" → เลือกรูปใหม่ → แสดงทันที
   • ปุ่ม "Remove Photo" → ลบรูปออก

6.3 ฟิลด์ที่แก้ไขได้
   • ชื่อ, อีเมล, เบอร์โทร
   • ที่อยู่, GitHub, LinkedIn
   • คำอธิบายตัว (Bio)
   • ทักษะ (คั่นด้วยจุลภาค)

6.4 ฟิลด์ที่แก้ไขไม่ได้
   • ตำแหน่งงาน (Role) - ต้องให้ Admin เปลี่ยน
   • แผนก (Department) - ต้องให้ Admin เปลี่ยน
   • ประเภทการจ้างงาน
   • ระดับบัญชี

6.5 การบันทึก
   • กดปุ่ม "Save Changes"
   • ระบบจะ:
     1. บันทึกข้อมูลใหม่
     2. อัปเดตข้อมูลผู้ใช้ในระบบ
     3. อัปเดตข้อมูลในงานที่เกี่ยวข้อง (ชื่อและรูป)
     4. แสดงข้อความ "บันทึกสำเร็จ"
     5. กลับไปหน้าโปรไฟล์


───────────────────────────────────────────────────────────────────────────────
7. หน้าจัดการงาน (Jobs)
───────────────────────────────────────────────────────────────────────────────

ทำอะไรบ้าง:

7.1 แท็บ (Tabs)
   • มี 2 แท็บ:
     - "jobs" = รายการงานทั้งหมด
     - "completion-requests" = คำขอปิดงาน

7.2 แท็บ Jobs
   • แสดงรายการงานทั้งหมดในตาราง
   • สามารถ:
     - ค้นหาด้วยคำค้น
     - กรองตามวันที่
     - กรองตามสถานะ
     - กรองตามแผนก
   • มีปุ่ม: แก้ไข, ลบ, ดูรายละเอียด

7.3 แท็บ Completion Requests
   • แสดงรายการคำขอปิดงาน (พนักงานขอให้ปิดงาน)
   • มีปุ่ม:
     - "Approve" = อนุมัติให้ปิดงาน
     - "Reject" = ปฏิเสธ (ต้องใส่เหตุผล)

7.4 การลบงาน
   • คลิกปุ่ม "Delete"
   • จะมีหน้าต่างยืนยันขึ้นมา
   • ถ้ายืนยัน → งานจะถูกลบออกจากระบบ

7.5 การเรียงลำดับงาน
   • สามารถลากงานขึ้น-ลงเพื่อเปลี่ยนลำดับ
   • ระบบจะบันทึกลำดับใหม่ทันที


───────────────────────────────────────────────────────────────────────────────
8. หน้าแรก (Root - หน้าแรกของเว็บ)
───────────────────────────────────────────────────────────────────────────────

ทำอะไรบ้าง:

8.1 การตรวจสอบการเข้าสู่ระบบ
   • เมื่อเข้ามาหน้านี้ ระบบจะตรวจสอบว่ามีการเข้าสู่ระบบอยู่หรือไม่
   • ถ้ามี → ส่งไปหน้า Dashboard ทันที
   • ถ้าไม่มี → แสดงหน้า Login

8.2 หน้าจอโหลด
   • แสดงแอนิเมชันโหลด 2 วินาที
   • เพื่อให้ดูสวยงามและไม่กระตุก


═══════════════════════════════════════════════════════════════════════════════
สรุป: หลักการทำงานที่สำคัญของระบบ
═══════════════════════════════════════════════════════════════════════════════

1. การอัปเดตข้อมูลแบบเชื่อมโยง
   เมื่อแก้ไขข้อมูลผู้ใช้ → ระบบจะอัปเดตข้อมูลในทุกที่ที่เกี่ยวข้อง
   เช่น แก้ชื่อ → ชื่อจะเปลี่ยนใน:
   - ข้อมูลผู้ใช้
   - งานที่เกี่ยวข้อง
   - ทุกหน้าที่แสดงชื่อคนนั้น
   
   ทำให้ข้อมูลตรงกันทุกที่ ไม่ต้องกังวลว่าข้อมูลจะไม่ตรงกัน

2. การซิงค์ข้อมูลอัตโนมัติ
   ระบบจะตรวจสอบและอัปเดตข้อมูลให้ตรงกันอัตโนมัติ
   เช่น ดูรายละเอียดผู้ใช้ → ถ้ามีคนอื่นแก้ไขข้อมูล → ข้อมูลจะอัปเดตทันที

3. การอัปโหลดรูปภาพ
   เมื่อเลือกรูป → ระบบจะแปลงรูปเป็นโค้ดพิเศษ (base64)
   แล้วเก็บไว้ในระบบ → แสดงรูปได้ทันทีโดยไม่ต้องอัปโหลดไปที่เซิร์ฟเวอร์

4. การส่งไปหน้าตามตำแหน่งงาน
   เมื่อเข้าสู่ระบบ → ระบบจะดูว่าตำแหน่งงานคืออะไร
   แล้วส่งไปหน้าที่เหมาะสม:
   - Admin/Manager/Lead → หน้า Admin (มีฟีเจอร์ครบ)
   - Employee → หน้า Employee (มีฟีเจอร์ที่จำเป็น)
